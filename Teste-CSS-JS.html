
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <title> banana </title>
    <meta charset="utf-8">
    <style>
        body{
            margin:0;
            padding:0;
            border:0;
        }
        canvas{
         height: 100%;
         width: 100%;
        }
    </style>
</head>

<body>

<canvas id="canvas"></canvas>
<script>
"use strict";
const canvas = document.getElementById('canvas');
const context = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
canvas.style.background = '#000';
const mouse = {
    x: undefined,
    y: undefined
};
window.addEventListener('mousemove', e => {
    mouse.x = e.x;
    mouse.y = e.y;
});
// Código abaixo cria um objeto circulo individual
function Circle(x, y, radius = 10, speedX = 5, speedY = 5, maxRadius = 30) {
    this.x = x;
    this.y = y;
    this.radius = radius;
    this.speedX = speedX;
    this.speedY = speedY;
    this.maxRadius = maxRadius;
    this.minRadius = radius;
    this.draw = () => {
        context.beginPath();
        context.strokeStyle = '#ffffff';
        context.fillStyle = '#000';
        context.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);
        context.stroke();
        context.fill();
        context.closePath();
    };
    this.update = () => {
        if (this.x + this.radius > canvas.width || this.x - this.radius < 0) {
            this.speedX = -this.speedX;
        }
        if (this.y + this.radius > canvas.height || this.y - this.radius < 0) {
            this.speedY = -this.speedY;
        }
        this.x += this.speedX;
        this.y += this.speedY;
        //efeito do mouse
        if (mouse.x - this.x < 50 && mouse.x - this.x > -50 && mouse.y - this.y < 50 && mouse.y - this.y > -50) {
            if (this.radius < this.maxRadius) {
                this.radius += 1;
            }
        }
        else if (this.radius > this.minRadius) {
            this.radius -= 1;
        }
        this.draw(); //chama o metodo draw
    };
}
let circleArr = [];
for (let i = 0; i < 500; i++) { //a quantidade de loops determina a quantidade de bolinhas
    let radius = Math.random() * 3 + 1;
    let x = Math.random() * (canvas.width - radius * 2.5) + radius; //randomização do x
    let y = Math.random() * (canvas.height - radius * 2.5) + radius;
    let speedX = Math.random() * 1;
    let speedY = Math.random() * 1;
    circleArr.push(new Circle(x, y, radius, speedX, speedY)); //adiciona um novo circulo a cada posição do array
}
const animate = () => {
    requestAnimationFrame(animate); // faz um loop infinito
    context.clearRect(0, 0, canvas.width, canvas.height); //limpa todo o canvas
    for (let i = 0; i < circleArr.length; i++) {
        circleArr[i].update(); // tualiza a posição de cada bolinha e desenha ela na tela
    }
};
animate();

</script>
</body>
</html>
